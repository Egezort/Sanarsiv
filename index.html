<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sanarşiv – Dil seçin</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #fff;
      color: #202122;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      align-items: center;
      padding: 40px 20px 60px;
    }
    .container {
      max-width: 900px;
      width: 100%;
      text-align: center;
    }
    .logo img {
      max-width: 160px;
      margin-bottom: 30px;
    }
    h1 {
      font-weight: normal;
      font-size: 36px;
      margin-bottom: 40px;
    }
    .popular-langs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 40px;
      margin-bottom: 40px;
    }
    .lang-box {
      width: 180px;
      text-align: center;
    }
    .lang-box a {
      font-size: 20px;
      color: #3366cc;
      text-decoration: none;
      display: block;
      font-weight: 500;
    }
    .lang-box a:hover {
      text-decoration: underline;
    }
    .article-count {
      font-size: 13px;
      color: #54595d;
      margin-top: 4px;
    }
    details {
      max-width: 900px;
      margin: 0 auto 30px;
      border: 1px solid #a2a9b1;
      border-radius: 2px;
      background-color: #f8f9fa;
      padding: 12px 20px;
      font-size: 14px;
      color: #54595d;
      cursor: pointer;
      text-align: left;
    }
    details summary {
      font-weight: 600;
      font-size: 16px;
      outline: none;
      list-style: none;
      user-select: none;
      cursor: pointer;
    }
    details[open] summary::after {
      content: "▲";
      float: right;
      font-size: 14px;
      margin-left: 10px;
    }
    details summary::after {
      content: "▼";
      float: right;
      font-size: 14px;
      margin-left: 10px;
    }
    .all-langs-list {
      margin-top: 15px;
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(120px,1fr));
      gap: 8px 20px;
      max-height: 300px;
      overflow-y: auto;
      padding-right: 5px;
    }
    .all-langs-list a {
      display: block;
      color: #3366cc;
      text-decoration: none;
      font-weight: 500;
    }
    .all-langs-list a:hover {
      text-decoration: underline;
    }
    .all-langs-list .article-count-small {
      font-size: 11px;
      color: #72777d;
      margin-top: 2px;
    }
    footer {
      font-size: 14px;
      color: #72777d;
      text-align: center;
      margin-top: auto;
      padding-top: 20px;
      border-top: 1px solid #ddd;
      width: 100%;
      max-width: 900px;
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Kullanıcının tarayıcı dilini al (ilk 2 karakter)
      const userLang = navigator.language || navigator.userLanguage;
      const langPrefix = userLang.substring(0, 2).toLowerCase();

      // Çeviri metinleri
      const translations = {
        az: {
          allLanguages: "Bütün dillər",
          articleSingular: "məqalə",
          articlePlural: "məqalə",
          workInProgress: "İşlər davam edir",
          selectLanguageTitle: "Sanarşiv – Dil seçin"
        },
        tr: {
          allLanguages: "Tüm diller",
          articleSingular: "makale",
          articlePlural: "makale",
          workInProgress: "Çalışmalar devam ediyor",
          selectLanguageTitle: "Sanarşiv – Dil seçin"
        },
        en: {
          allLanguages: "All languages",
          articleSingular: "article",
          articlePlural: "articles",
          workInProgress: "Work In Progress",
          selectLanguageTitle: "Sanarşiv – Select language"
        },
        de: {
          allLanguages: "Alle Sprachen",
          articleSingular: "Artikel",
          articlePlural: "Artikel",
          workInProgress: "In Arbeit",
          selectLanguageTitle: "Sanarşiv – Sprache wählen"
        },
        fr: {
          allLanguages: "Toutes les langues",
          articleSingular: "article",
          articlePlural: "articles",
          workInProgress: "Travaux en cours",
          selectLanguageTitle: "Sanarşiv – Choisir la langue"
        },
        ru: {
          allLanguages: "Все языки",
          articleSingular: "статья",
          articlePlural: "статей",
          workInProgress: "Работа в процессе",
          selectLanguageTitle: "Sanarşив – Выберите язык"
        },
        es: {
          allLanguages: "Todos los idiomas",
          articleSingular: "artículo",
          articlePlural: "artículos",
          workInProgress: "Trabajo en progreso",
          selectLanguageTitle: "Sanarşiv – Seleccione idioma"
        },
        fa: {
          allLanguages: "تمام زبان‌ها",
          articleSingular: "مقاله",
          articlePlural: "مقالات",
          workInProgress: "کار در حال انجام",
          selectLanguageTitle: "Sanarşiv – انتخاب زبان"
        }
      };

      // Geçerli dil; yoksa İngilizce default
      const lang = translations[langPrefix] ? langPrefix : 'en';

      // HTML lang attribute güncelle
      document.documentElement.lang = lang;

      // Sayfa başlığını çevir
      document.title = translations[lang].selectLanguageTitle;

      // Başlığı çevir
      const h1 = document.querySelector('h1');
      if (h1) {
        h1.textContent = translations[lang].selectLanguageTitle;
      }

      // "Bütün dillər" metnini değiştir
      const detailsSummary = document.querySelector('details > summary');
      if (detailsSummary) {
        detailsSummary.textContent = translations[lang].allLanguages;
      }

      // Tüm diller listesindeki makale sayıları ve durum metinleri
      const langItems = document.querySelectorAll('.all-langs-list > [role="listitem"]');
      langItems.forEach(item => {
        const link = item.querySelector('a');
        const countDiv = item.querySelector('.article-count-small');
        if (!link || !countDiv) return;

        const href = link.getAttribute('href');
        const match = href.match(/\/\/([a-z]{2})\.sanarsiv\.org/);
        if (!match) return;
        const code = match[1];

        // Sabit makale sayıları:
        if (code === 'az') {
          countDiv.textContent = "62 " + translations[lang].articleSingular;
        } else if (code === 'tr') {
          countDiv.textContent = "47 " + translations[lang].articleSingular;
        } else {
          // Diğer dillerde ilerleme durumu
          countDiv.textContent = translations[lang].workInProgress;
        }
      });
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="logo">
      <img src="https://static.wikitide.net/sanarsivwiki/1/14/Sanarsiv-logo.jpg" alt="Sanarşiv Logo" />
    </div>
    <h1>Sanarşiv – Dil seçin</h1>

    <div class="popular-langs" aria-label="En çok makaleye sahip olan diller">
      <div class="lang-box">
        <a href="https://en.sanarsiv.org">English</a>
        <div class="article-count">6,583,000+ articles</div>
      </div>
      <div class="lang-box">
        <a href="https://de.sanarsiv.org">Deutsch</a>
        <div class="article-count">2.600.000+ Artikel</div>
      </div>
      <div class="lang-box">
        <a href="https://fr.sanarsiv.org">Français</a>
        <div class="article-count">2 400 000+ articles</div>
      </div>
      <div class="lang-box">
        <a href="https://ru.sanarsiv.org">Русский</a>
        <div class="article-count">1 900 000+ статей</div>
      </div>
      <div class="lang-box">
        <a href="https://es.sanarsiv.org">Español</a>
        <div class="article-count">1.700.000+ artículos</div>
      </div>
    </div>

    <details>
      <summary>Bütün dillər</summary>
      <div class="all-langs-list" role="list">
        <div role="listitem">
          <a href="https://az.sanarsiv.org">Azərbaycan dili</a>
          <div class="article-count-small">62 məqalə</div>
        </div>
        <div role="listitem">
          <a href="https://tr.sanarsiv.org">Türkçe</a>
          <div class="article-count-small">47 makale</div>
        </div>
        <div role="listitem">
          <a href="https://en.sanarsiv.org">English</a>
          <div class="article-count-small">Work In Progress</div>
        </div>
        <div role="listitem">
          <a href="https://de.sanarsiv.org">Deutsch</a>
          <div class="article-count-small">In Arbeit</div>
        </div>
        <div role="listitem">
          <a href="https://fr.sanarsiv.org">Français</a>
          <div class="article-count-small">Travaux en cours</div>
        </div>
        <div role="listitem">
          <a href="https://ru.sanarsiv.org">Русский</a>
          <div class="article-count-small">Работа в процессе</div>
        </div>
        <div role="listitem">
          <a href="https://es.sanarsiv.org">Español</a>
          <div class="article-count-small">Trabajo en progreso</div>
        </div>
        <div role="listitem">
          <a href="https://fa.sanarsiv.org">فارسی</a>
          <div class="article-count-small">کار در حال انجام</div>
        </div>
      </div>
    </details>
  </div>

  <footer>
    Sanarşiv – Özgür sanat ansiklopedisi
  </footer>
</body>
</html>
