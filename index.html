<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sanarşiv – Dil seçin</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #fff;
      color: #202122;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      align-items: center;
      padding: 40px 20px 60px;
    }
    .container {
      max-width: 900px;
      width: 100%;
      text-align: center;
    }
    .logo img {
      max-width: 160px;
      margin-bottom: 30px;
    }
    h1 {
      font-weight: normal;
      font-size: 36px;
      margin-bottom: 40px;
    }
    .popular-langs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 40px;
      margin-bottom: 40px;
    }
    .lang-box {
      width: 180px;
      text-align: center;
    }
    .lang-box a {
      font-size: 20px;
      color: #3366cc;
      text-decoration: none;
      display: block;
      font-weight: 500;
    }
    .lang-box a:hover {
      text-decoration: underline;
    }
    .article-count {
      font-size: 13px;
      color: #54595d;
      margin-top: 4px;
    }
    footer {
      font-size: 14px;
      color: #72777d;
      text-align: center;
      margin-top: auto;
      padding-top: 20px;
      border-top: 1px solid #ddd;
      width: 100%;
      max-width: 900px;
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const userLang = navigator.language || navigator.userLanguage;
      const langPrefix = userLang.substring(0, 2).toLowerCase();

      const translations = {
        az: {
          articleSingular: "məqalə",
          workInProgress: "İşlər davam edir",
          selectLanguageTitle: "Sanarşiv – Dil seçin"
        },
        tr: {
          articleSingular: "makale",
          workInProgress: "Çalışmalar devam ediyor",
          selectLanguageTitle: "Sanarşiv – Dil seçin"
        },
        en: {
          articleSingular: "article",
          workInProgress: "Work In Progress",
          selectLanguageTitle: "Sanarşiv – Select language"
        }
      };

      const lang = translations[langPrefix] ? langPrefix : 'en';

      document.documentElement.lang = lang;
      document.title = translations[lang].selectLanguageTitle;

      const h1 = document.querySelector('h1');
      if (h1) {
        h1.textContent = translations[lang].selectLanguageTitle;
      }

      const counts = {
        az: 62,
        tr: 47
      };

      const langBoxes = document.querySelectorAll('.lang-box');
      langBoxes.forEach(box => {
        const link = box.querySelector('a');
        const countDiv = box.querySelector('.article-count');
        if (!link || !countDiv) return;

        const href = link.getAttribute('href');
        const match = href.match(/\/\/([a-z]{2})\.sanarsiv\.org/);
        if (!match) return;

        const code = match[1];
        if (counts[code]) {
          countDiv.textContent = counts[code] + " " + translations[lang].articleSingular;
        } else {
          countDiv.textContent = translations[lang].workInProgress;
        }
      });
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="logo">
      <img src="https://static.wikitide.net/sanarsivwiki/1/14/Sanarsiv-logo.jpg" alt="Sanarşiv Logo" />
    </div>
    <h1>Sanarşiv – Dil seçin</h1>

    <div class="popular-langs" aria-label="Ən çox məqaləyə sahib olan dillər">
      <div class="lang-box">
        <a href="https://az.sanarsiv.org">Azərbaycan dili</a>
        <div class="article-count">62 məqalə</div>
      </div>
      <div class="lang-box">
        <a href="https://tr.sanarsiv.org">Türkçe</a>
        <div class="article-count">47 makale</div>
      </div>
      <div class="lang-box">
        <a href="https://en.sanarsiv.org">English</a>
        <div class="article-count">Work In Progress</div>
      </div>
    </div>
  </div>

  <footer>
    Sanarşiv – Özgür sanat ansiklopedisi
  </footer>
</body>
</html>
